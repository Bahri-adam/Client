<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cross Country Meet Results</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Cross Country Meet Results</h1>

        <div class="season-info">
            2024 Season
        </div>

        <div id="meets-grid" class="meets-grid">
            <!-- Meet cards will be inserted here -->
        </div>
    </div>

    <script src="meet-utils.js"></script>
    <script>
        // Load and process all meet data
        async function loadMeetData() {
            try {
                const meetFiles = [
                    '37th_Early_Bird_Open_Mens_5000_Meters_HS_Open_5K_24.csv',
                    'Bret_Clements_Bath_Invitational_Mens_5000_Meters_Class_1_24.csv',
                    '56th_Holly-Duane_Raffin_Festival_of_Races_Mens_5000_Meters_D1_Boys_24.csv'
                ];

                const meetData = await Promise.all(meetFiles.map(async filename => {
                    const response = await fetch(filename);
                    const content = await response.text();
                    return { filename: filename.replace('.csv', '.html'), content };
                }));

                const meetsGrid = document.getElementById('meets-grid');
                meetsGrid.innerHTML = generateMeetCards(meetData);
            } catch (error) {
                console.error('Error loading meet data:', error);
            }
        }

        // Load data when page loads
        document.addEventListener('DOMContentLoaded', loadMeetData);
    </script>
</body>
</html>
